# 一、传统JDBC操作问题分析

## 1、传统的JDBC示例

---

```java
加载驱动；
获取数据库连接；
编写SQL语句；
执行SQL，返回结果集；
处理结果集；
释放资源；  
```



## 2、问题分析

---

- **硬编码（1）**：数据库的配置信息被写死；

  数据库的配置信息（连接的URL、用户名、密码）、驱动信息被写死在了java源码里，当编译后生成字节码文件就不可修改；这时如果我们想要使用Oracle数据库，就得更换数据库配置信息，但是生成的字节码文件不可修改，只能修改源码重新编译；

- **硬编码（2）**：SQL语句、传入参数等被写死；

- **耗费内存**：数据库连接没用被复用；

  每次操作都要先创建，然后再释放连接，这样频繁地创建、释放连接会非常影响性能；

- **ORM操作繁琐**：手动处理对象关系映射(ORM)，较为繁琐；

## 3、解决方法

---

- **硬编码**：将配置信息写入到配置文件当中；

  常见的配置文件：`.properties文件`、`.xml文件`、`.yml文件`……

  数据库的配置信息是不经常发生改变的，而SQL语句、参数等是经常发生改变的信息。对于不经常发生改变和经常发生改变的信息建议分开建立配置文件，以便维护；

  

- **耗费内存**：使用连接池技术优化连接复用问题；

- **ORM操作繁琐**：可以使用`反射`和`注解`来解决；

​	

